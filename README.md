# –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø–æ—Ä—Ç–∞–ª: —á–∞—Ç
–ú–æ–¥—É–ª—å —á–∞—Ç–∞ –¥–ª—è –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ—Ä—Ç–∞–ª–∞.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
‚è± –í—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º –±–ª–∞–≥–æ–¥–∞—Ä—è —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ [WebSocket];<br>
üé® –°—Ç–∏–ª—å–Ω–æ–µ –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –Ω–∞ [Bootstrap];<br>
üí° –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–π –≥–∏–±–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å;<br>
üñç –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è [Markdown] —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–æ–¥—Å–≤–µ—Ç–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∞;<br>
üå± –ö–æ–¥–æ–≤–∞—è –±–∞–∑–∞ –Ω–∞ —á–∏—Å—Ç–æ–º [JavaScript] ‚Äî –Ω–∏–∫–∞–∫–∏—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ –∏ –ø–∏—Ç–æ–Ω–∞;<br>
üìù –•–æ—Ä–æ—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –∫–æ–¥–∞.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞
–ù–∏–∂–µ –¥–∞–Ω–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –º–æ–¥—É–ª—è –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –≠—Ç–∏ —É–∫–∞–∑–∞–Ω–∏—è –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è macOS –∏ Linux,
–Ω–∞ Windows –Ω–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏—Å—å.

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –µ—Å—Ç—å:
* **[Node.js](https://nodejs.org/)** v18.10 –∏ –≤—ã—à–µ;
* **[npm](https://npmjs.org/)** v8.19 –∏ –≤—ã—à–µ;
* **[PostgreSQL](https://postgresql.org/)** 15 –∏ –≤—ã—à–µ;
* **[DBeaver](https://dbeaver.io/)** v21 –∏ –≤—ã—à–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ);
* –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –º–µ—Å—Ç–æ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (50 –ú–± –¥–æ–ª–∂–Ω–æ —Ö–≤–∞—Ç–∏—Ç—å).

### –ü—Ä–æ—Ü–µ—Å—Å
**–®–∞–≥ 1.** –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –∫ —Å–µ–±–µ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è GitHub. –î–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ —Å–∫–∞—á–∞—Ç—å –∏ —Ä–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å
–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–π –∏–º –∂–µ ZIP-–∞—Ä—Ö–∏–≤ –ª–∏–±–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–∏—Å—Ç–µ–º–æ–π git:
```sh
git clone https://github.com/EN-YSolutions/Training_system_Pozdnyakov.git
mv Training_system_Pozdnyakov training-system-chat
cd training-system-chat
```
**–®–∞–≥ 2.** –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç, –ø–æ—Å–∫–æ–ª—å–∫—É –±–µ–∑ HTTPS —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥–µ—Ç. –ß—Ç–æ–±—ã —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ
—Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:
```sh
mkdir cert && cd cert
openssl req -newkey rsa:2048 -nodes -keyout server.key -out server.csr
openssl x509 -signkey server.key -in server.csr -req -days 365 -out server.cert
```
–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ OpenSSL –ø–æ–ø—Ä–æ—Å–∏—Ç –≤–≤–µ—Å—Ç–∏ –¥–æ–º–µ–Ω (qualified name). –ù—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å `localhost`.
–û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω—è—Ç—å –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.

**–®–∞–≥ 3.** –í–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–µ—Ä –º–æ–¥—É–ª—è –±–µ—Ä–µ—Ç –≤–∞–∂–Ω—ã–µ –∏ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ç–æ–∫–µ–Ω—ã, –ø–∞—Ä–æ–ª–∏, –ø—É—Ç–∏ –¥–æ —Ñ–∞–π–ª–æ–≤ –∏ —Ç. –¥.)
–∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è. –û–Ω–∏ –∑–∞–¥–∞—é—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `.env`, –Ω–∞—Ö–æ–¥—è—â–µ–º—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ `server`. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –∏ –≤–Ω–µ—Å–∏—Ç–µ
—Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ:
```dotenv
# –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
HOST = localhost  # –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞
PORT = 2000       # –ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ (—É–∫–∞–∂–∏—Ç–µ 443, —á—Ç–æ–±—ã —É–±—Ä–∞—Ç—å –ø–æ—Ä—Ç –∏–∑ –∞–¥—Ä–µ—Å–∞)

# –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ HTTPS
SSL_CRT = ../cert/server.cert  # –ø—É—Ç—å –¥–æ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
SSL_KEY = ../cert/server.key   # –ø—É—Ç—å –¥–æ –∫–ª—é—á–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

# –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
# –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –æ—Å—Ç–∞–≤—å—Ç–µ –∫–∞–∫ –µ—Å—Ç—å, –∞ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
# –∫ –≤–Ω–µ—à–Ω–µ–π –±–∞–∑–µ –ø–æ–º–µ–Ω—è–π—Ç–µ —Ö–æ—Å—Ç –∏ –ø–æ—Ä—Ç
DB_HOST = localhost
DB_PORT = 5432
DB_NAME = training_system_chat  # –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
DB_USER = tsc_backend           # –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
DB_PASS = ...                   # –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—É–∫–∞–∂–∏—Ç–µ —Å–≤–æ–π)

# –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ JWT-—Ç–æ–∫–µ–Ω–æ–≤
JWT_SECRET = ...             # –ø–æ–¥–ø–∏—Å—å —Ç–æ–∫–µ–Ω–∞ (—É–∫–∞–∂–∏—Ç–µ —Å–≤–æ–π)
JWT_EXPIRATION = 2592000000  # –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Ç–æ–∫–µ–Ω–∞ - –º–µ—Å—è—Ü

# –ø—Ä–æ—á–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
SALT_ROUNDS = 10           # —á–∏—Å–ª–æ —Ä–∞—É–Ω–¥–æ–≤ —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
COOKIE_DOMAIN = localhost  # –¥–æ–º–µ–Ω —Ñ–∞–π–ª–æ–≤ –∫—É–∫–∏ (–¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å HOST)
```
–ü–∞—Ä–æ–ª—å –æ—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ç–∞–∫–∂–µ —É–∫–∞–∑–∞—Ç—å –≤ —Ñ–∞–π–ª–µ [`db-setup.sql`](db-setup.sql) –Ω–∞ [—Å—Ç—Ä–æ–∫–µ 3](db-setup.sql#L3).
–õ—É—á—à–µ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –∑–¥–µ—Å—å, —á–µ–º –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π —Å—Ä–µ–¥–µ PostgreSQL: —Ç–∞–∫ –æ–Ω –Ω–µ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏–∏ –∫–æ–º–∞–Ω–¥.

**–®–∞–≥ 4.** –° –ø–æ–º–æ—â—å—é –º–µ–Ω–µ–¥–∂–µ—Ä–∞ PostgreSQL –∏–ª–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∞–∑–µ `postgres`.
–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π —Å—Ä–µ–¥–µ —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∏ –∫–æ–º–∞–Ω–¥—ã:
```pgsql
drop database if exists training_system_chat;
create database training_system_chat;
\c training_system_chat; -- –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Å–æ–∑–¥–∞–Ω–Ω—É—é –±–∞–∑—É
\i 'db-setup.sql';       -- –∑–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
\q;                      -- –≤—ã—Ö–æ–¥ –∏–∑ —Å—Ä–µ–¥—ã
```

**–®–∞–≥ 5.** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Node.js –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
```sh
npm install
npm start
```
–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –ø–æ–¥–Ω—è—Ç –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–º —Ö–æ—Å—Ç–µ –∏ –ø–æ—Ä—Ç–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞
[`https://localhost:2000/`](https://localhost:2000/)). –¢–µ–ø–µ—Ä—å —Å –Ω–∏–º –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å.
–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–∞—Ö –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è, –∞ —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è.

## –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
### –ö–æ–¥—ã –∑–∞–∫—Ä—ã—Ç–∏—è –≤–µ–±—Å–æ–∫–µ—Ç–∞
| –ö–æ–¥ (HEX) | –ö–æ–¥ (DEC) | –ó–Ω–∞—á–µ–Ω–∏–µ |
| --- | --- | --- |
| `0x1000` | `4096` | –ü–ª–æ—Ö–∞—è –ø–æ–¥–ø–∏—Å—å
| `0x1001` | `4097` | –¢–æ–∫–µ–Ω –ø—Ä–æ—Å—Ä–æ—á–µ–Ω
| `0x1002` | `4098` | –ü–æ–¥–º–µ–Ω–∞ —Ç–æ–∫–µ–Ω–∞
| `0x100F` | `4111` | –ù–µ—Ç —Ç–∏–∫–µ—Ç–∞

[Websocket]:  https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API
[Bootstrap]:  https://getbootstrap.com
[Markdown]:   https://ru.wikipedia.org/wiki/Markdown
[JavaScript]: https://developer.mozilla.org/en-US/docs/Web/JavaScript
